(this["webpackJsonpitem-adder"]=this["webpackJsonpitem-adder"]||[]).push([[0],{100:function(e,n,t){},101:function(e,n,t){},118:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(84),i=t.n(o),c=(t(100),t(101),t(81)),l=t(43),u=t(57),d=t(58),m=t(59),p=t(53),s=t(21),b=t(33),f=t(78),h=t(52);function g(){var e=Object(s.a)(["\n    display:inline-block;\n    padding: 0.5rem 1rem;\n    margin:1rem;\n    font-size:1.6rem;\n    font-weight:600;\n    line-heignt:1;\n    text-align:center;\n    white-space:nowrap;\n    vertical-align:middle;\n    border-radius:0.25rem;\n    color: #fff;\n    background-color:#17a2b8;\n"]);return g=function(){return e},e}var v=h.a.span(g()),E=t(62);function w(){var e=Object(s.a)(["\n{\n    FoodRecipe {\n      id\n      name\n      recipe1\n      recipe2\n    }\n  }"]);return w=function(){return e},e}var j=Object(b.a)(w());function O(e){var n=e.newFoodSearch,t=Object(f.a)(j),r=t.loading,o=t.error,i=t.data;return r?a.a.createElement("p",null,"Loading..."):o?a.a.createElement("p",null,"Error"):(n||i.FoodRecipe).map((function(e){var n=e.id,t=e.name,r=e.recipe1,o=e.recipe2;return a.a.createElement("div",{key:n},a.a.createElement(E.b,{to:"/foodrecipe/".concat(n)},a.a.createElement("p",null,t,"  ",a.a.createElement(v,null,r," | ",o))))}))}function y(){var e=Object(s.a)(["\n    align-items:center;\n    > button{\n        margin-left:1rem;\n        background-color: rgb(0, 0,0,0.75);\n        color: white;\n        padding: 1rem 2rem;\n        border: 1px solid rgb(0, 0,0,0.75);\n        border-radius: 10px;\n        font-size: 1.4rem;\n        cursor: pointer;\n    }\n    > input{font-size: 1.3rem;\n    padding:0.5rem 2rem;\n    line-height: 2.8rem;\n    border-radius:10px;\n    border:1px solid #ddd;\n    margin-bottom: 1rem;\n    }\n"]);return y=function(){return e},e}var k=h.a.div(y()),S=function(e){var n=e.inputVal,t=e.onChange,r=e.onSearch;return a.a.createElement(k,null,a.a.createElement("input",{value:n,onChange:t,type:"text"}),a.a.createElement("button",{onClick:r},"Search"))},x=t(80);function _(){var e=Object(s.a)(["\nquery Search($match:String) {\n    FoodRecipe(order_by: {name: asc}, where: {name: {_ilike: $match}}) {\n      name\n      id\n      recipe1\n      recipe2\n    }\n  }\n"]);return _=function(){return e},e}var R=Object(b.a)(_()),F=function(){var e=Object(r.useState)(""),n=Object(p.a)(e,2),t=n[0],o=n[1],i=Object(x.a)(R),c=Object(p.a)(i,2),l=c[0],u=c[1],d=(u.loading,u.error,u.data);return a.a.createElement("div",{class:"content"},a.a.createElement(S,{inputval:t,onChange:function(e){return o(e.target.value)},onSearch:function(){return l({variables:{match:"%".concat(t,"%")}})}}),a.a.createElement(O,{newFoodSearch:d?d.FoodRecipe:null}))},$=t(11),C=t(82),z=t(83);function q(){var e=Object(s.a)(["\nalign-items:center;\n> button{\n    margin-left:1rem;\n    background-color: rgb(0, 0,0,0.75);\n    color: white;\n    padding: 0.8rem 2rem;\n    border: 1px solid rgb(0, 0,0,0.75);\n    border-radius: 10px;\n    font-size: 1.4rem;\n    cursor: pointer;\n}\n> input{\n    font-size: 1.3rem;\n    padding:0.5rem 2rem;\n    line-height: 1.8rem;\n    border-radius:10px;\n    border:1px solid #ddd;\n    margin-bottom: 1rem;\n    }\n"]);return q=function(){return e},e}var I=h.a.div(q()),M=function(e){var n=e.inputVal,t=e.onChange,r=e.onSubmit;return a.a.createElement(I,null,a.a.createElement("input",{type:"text",value:n,onChange:t}),a.a.createElement("button",{onClick:r},"Post"))};function N(){var e=Object(s.a)(["\n    mutation MyMutation($body:String!,$foodId:uuid!) {\n        insert_Reviews(objects: {body:$body , food_id:$foodId }) {\n        affected_rows\n        }\n    }\n"]);return N=function(){return e},e}function V(){var e=Object(s.a)(["\nsubscription MyQuery($id:uuid!) {\n    FoodRecipe_by_pk(id:$id ) {\n      name\n      recipe1\n      recipe2\n      Reviews(order_by:{created_at:desc}) {\n        body\n        food_id\n      }\n    }\n  }\n"]);return V=function(){return e},e}var B=Object(b.a)(V()),J=Object(b.a)(N()),L=function(e){var n=e.match.params.id,t=Object(r.useState)(""),o=Object(p.a)(t,2),i=o[0],c=o[1],l=Object(C.a)(B,{variables:{id:n}}),u=l.loading,d=l.error,m=l.data,s=Object(z.a)(J),b=Object(p.a)(s,1)[0];if(u)return a.a.createElement("p",null,"Loading...");if(d)return a.a.createElement("p",null,"Error...");var f=m.FoodRecipe_by_pk,h=f.name,g=f.recipe1,E=f.recipe2,w=f.Reviews;return a.a.createElement("div",{className:"content"},a.a.createElement("h3",null,h,a.a.createElement(v,null,g,"|",E)),a.a.createElement("h3",null,"Reviews"),a.a.createElement(M,{inputVal:i,onChange:function(e){return c(e.target.value)},onSubmit:function(){b({variables:{foodId:n,body:i}}).then((function(){return c("")})).catch((function(e){c(e.message)}))}}),a.a.createElement("p",null,w.map((function(e){return a.a.createElement("ul",null,a.a.createElement("li",{key:e.id},e.body))}))))},W=t(90),D=t(91),P=new l.a({uri:"https://".concat("item-adder.herokuapp.com/v1/graphql")}),Q=new D.a({uri:"wss://".concat("item-adder.herokuapp.com/v1/graphql"),options:{reconnect:!0}}),A=Object(u.a)((function(e){var n=e.query,t=Object(W.a)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),Q,P),G=new d.a({cache:new m.a,link:A});var H=function(){return a.a.createElement(E.a,null,a.a.createElement(c.a,{client:G},a.a.createElement("div",{className:"container"},a.a.createElement("header",null,a.a.createElement("h1",{className:"title"},"Food Recipe")),a.a.createElement($.c,null,a.a.createElement($.a,{path:"/foodrecipe/:id",component:L}),a.a.createElement($.a,{path:"/",component:F})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,n,t){e.exports=t(118)}},[[95,1,2]]]);
//# sourceMappingURL=main.3e5130ca.chunk.js.map